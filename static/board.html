<!DOCTYPE html>
<html lang="en">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />

<!-- Font Awesome CSS -->
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
    integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<link href="/mystyle.css" rel="stylesheet" />
<!-- <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script> -->
<!------ Include the above in your HEAD tag ---------->

<script src="/api.js"></script>
<script>

    $(document).ready(function () {
        getArticles();
    });

    function addList(article) {
        let temp_html = `<tr>
                            <td>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" 
                                        value="${article["bno"]}" name="checkBno" id="bno">
                                    <label class="form-check-label" for="bno">
                                        ${article["bno"]}
                                    </label>
                                </div>
                            </td>
                            <th>${article["level"]}</th>
                            <td><a href="${article["url"]}">${article["title"]}</a></td>
                            <td>${article["ins_date"]}</td>
                            <td>${article["comp_yn"]}</td>
                        </tr>`;
        $("#article-list").append(temp_html);
    }

    function readOneArticle() {
        $("#btn-save").hide();
        let bool = getCheckboxValue();
        if (bool === -1) {
            alert("check one article to mogdify");
            window.location.reload();
        } else {
            getOneArticle();
        }
    }

    function readOne(article) {
        let temp_html = `<label for="level">difficulty level</label>
                        <select class="form-control" id="level">
                            <option value="1">초급</option>
                            <option value="2">중급</option>
                            <option value="3" >고급</option>
                        </select>
                        <div class="form-group">
                            <label for="writer">writer</label>
                            <input type="text" class="form-control" id="writer" value="${article["writer"]}" readonly>
                        </div>
                        <div class="form-group">
                            <label for="title">title</label>
                            <input type="text" class="form-control" id="title" placeholder="${article["title"]}">
                        </div>
                        <div class="form-group">
                            <label for="url">url</label>
                            <input type="text" class="form-control" id="url" placeholder="${article["url"]}">
                        </div>
                        <label for="level">solved</label>
                        <select class="form-control" id="comp_yn">
                            <option value="N">NO</option>
                            <option value="Y">YES</option>
                        </select>`;
        $("#new-form").append(temp_html);

        if (article["level"] === 1) {
            $("select option[value='1']").attr("selected", "selected");
        } else if (article["level"] === 2) {
            $("select option[value='2']").attr("selected", "selected");
        } else {
            $("select option[value='3']").attr("selected", "selected");
        }
    }

</script>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <title>PITA</title>
</head>

<body>
    <header class="bs4header bg-primary">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-dark">
                <a class="navbar-brand" href="index.html"><b><i> &lt; / &gt; PITA</i></b></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs4navbar"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="bs4navbar">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item active">
                            <a class="nav-link active" href="/">Home</a>
                        </li>
                        <li class="nav-item" onclick="javascript:alert('준비중');">
                            <a class="nav-link" href="#">About Us</a>
                        </li>
                        <li class="nav-item" onclick="javascript:alert('준비중');">
                            <a class="nav-link" href="#">Contact Us</a>
                        </li>
                        <li class="dropdown" onclick="javascript:alert('준비중');">
                            <button class="btn btn-warning"> Login </button>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <main class="container pt-5">
        <div class="parent">
            <div class="first" id="buttons">
                <button type="button" class="btn btn-outline-primary" data-toggle="modal"
                    data-target="#modalAbandonedCart" onclick="btnHide()">
                    add new</button>
                <button type="button" class="btn btn-outline-danger" data-toggle="modal"
                    data-target="#modalAbandonedCart" onclick="readOneArticle()">modify</button>
                <!-- <button type="button" class="btn btn-outline-warning">to today's list</button> -->
            </div>
            <div class="second">
                <select class="form-control" id="orderBySolve">
                    <option value="Y">solved</option>
                    <option value="N">unsolved</option>
                </select>
            </div>
            <div class="third">
                <select class="form-control" id="orderByLevel">
                    <option value="1">초급</option>
                    <option value="2">중급</option>
                    <option value="3">고급</option>
                </select>
            </div>
            <div class="forth">
                <select class="form-control" id="orederByDate">
                    <option value="-1">최신순</option>
                    <option value="1">오래된순</option>
                </select>
            </div>
            <div class="d-grid gap-2 btn-block fifth">
                <a type="submit" class="btn btn-info btn-block" id="btn-save" onclick="searchArticles()">search</a>
            </div>
        </div>
        <table class="table table-bordered table-definition mb-5">
            <thead class="table-warning ">
                <tr>
                    <th>#</th>
                    <th>level</th>
                    <th>title</th>
                    <th>date</th>
                    <th>solved</th>
                </tr>
            </thead>
            <tbody id="article-list">
                <!-- t body -->
            <tfoot>
                <tr>
                    <th colspan="5">
                        <ul class="pagination justify-content-end mt-3 mr-3">
                            <li class="page-item disabled">
                                <span class="page-link">Previous</span>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item active">
                                <span class="page-link">2<span class="sr-only">(current)</span>
                                </span>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#">Next</a>
                            </li>
                        </ul>
                    </th>
                </tr>
            </tfoot>
        </table>
    </main>

    <footer class="footer mt-auto py-3 bg-light">
        <div class="container">
            <span class="text-muted">
                <Strong>&lt; / &gt; PITA </Strong> | Make your FINE selection of Pain in the axx conding test !
                <span style="float:right;">No SNS here, cheers!</span>
            </span>
        </div>
    </footer>

    <!-- Modal: modalAbandonedCart-->
    <div class="modal fade right" id="modalAbandonedCart" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog modal-side modal-bottom-right modal-notify modal-info" role="document">
            <!--Content-->
            <div class="modal-content">
                <!--Header-->
                <div class="modal-header">
                    <p class="heading">
                    <h3>form</h3>
                    </p>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                        onclick="javascript:window.location.reload();">
                        <span aria-hidden="true" class="white-text">&times;</span>
                    </button>
                </div>

                <!--Body-->
                <div class="modal-body">
                    <!-- bno, level, writer, title, context -->
                    <div class="form-group" id="new-form">
                        <label for="level">difficulty level</label>
                        <select class="form-control" id="level">
                            <option value="1">초급</option>
                            <option value="2">중급</option>
                            <option value="3">고급</option>
                        </select>
                        <div class="form-group">
                            <label for="writer">writer</label>
                            <input type="text" class="form-control" id="writer" value="Hannah" readonly>
                        </div>
                        <div class="form-group">
                            <label for="title">title</label>
                            <input type="text" class="form-control" id="title">
                        </div>
                        <div class="form-group">
                            <label for="url">url</label>
                            <input type="text" class="form-control" id="url">
                        </div>
                    </div>

                    <!--Footer-->
                    <div class="modal-footer justify-content-center">
                        <a type="submit" class="btn btn-info" id="btn-save" onclick="addArticle()">save</a>
                        <a type="submit" class="btn btn-info" id="btn-modify" onclick="modifyArticle()">modify</a>
                        <a type="submit" class="btn btn-info" id="btn-delete" onclick="deleteArticle()">delete</a>
                        <a type="button" class="btn btn-outline-info waves-effect" data-dismiss="modal"
                            onclick="javascript:window.location.reload();">Cancel</a>
                    </div>
                </div>
                <!--/.Content-->
            </div>
        </div>
    </div>
    <!-- Modal: modalAbandonedCart-->

</body>

</html>